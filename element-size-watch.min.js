window.addEventListener("load",function e(){function t(e,t,s){t=t||"";var n=e.parentElement,i=n.getClientRects()[0],r=e.getClientRects()[0];return t.search("%")===t.length-1?(t=parseFloat(t.replace(/%$/,"")),t=t/100*(s?i.width:i.height)):t=parseInt(t.replace(/[^0-9.-]/g,"")),{width:r.width,height:r.height,querySize:t}}function s(e){var t={},s=0;if("*"===e)return t;if(!e||/^\s*$/.test(e))return null;if(e=e.split(/\s*,\s*/),!e.length)return null;var n,i;for(n=0;n<e.length;n++)i=e[n].split(/\s*:\s*/),!i||i.length<2||i.length>4||(i[0]=i[0].trim(),i[1]=i[1].trim(),i[0]&&i[1]&&(i[0]+="-"+ ++s,t[i[0]]=i[1],i[2]&&!/^\s*$/.test(i[2])&&(t[i[0]+"-alias"]=i[2]),"suppress"===i[3]&&(t[i[0]+"-suppress"]=!0)));return t}function n(e){var s=e.element,n=e.querySpec,i=e.callback,r=e.useAnimationFrame,a=e.allowQueryClasses;return function(){function e(){for(f=g.length-1;f>=0;f--)w=g[f].split(/:/),"removed"===w[0]?"suppressed"===w[2]?-1===q.indexOf(w[1])&&q.push(w[1]):s.classList.contains(w[1])&&(s.classList.remove(w[1]),q.push(w[1])):"added"===w[0]&&("suppressed"===w[2]?-1===x.indexOf(w[1])&&x.push(w[1]):s.classList.contains(w[1])||(s.classList.add(w[1]),x.push(w[1])));"function"==typeof i&&(0===v.length||q.length||x.length)&&i({element:s,elementSize:{width:b.width,height:b.height},classesRemoved:q,classesAdded:x})}var l,o,d,p,u,h,c,m,g,f,w,y,v=Object.keys(n),b=t(s),S={},q=[],x=[];for(l=0;l<v.length;l++)o=v[l],o.search("-alias")!==Math.max(o.length-6,0)&&o.search("-suppress")!==Math.max(o.length-9,0)&&(d=n[o],p=0===o.search("min"),u=0===o.search("max"),h=-1!==o.search("width"),b=t(s,d,h),c=p?(h?b.width:b.height)>=b.querySize:u?(h?b.width:b.height)<=b.querySize:b.querySize===(h?b.width:b.height),m=(c?"added:":"removed:")+(n[o+"-alias"]?n[o+"-alias"]:o.replace(/-[0-9]+$/,"")+"-"+d.replace(/%/,"pc")+(a?"":":suppressed"))+(n[o+"-suppress"]?":suppressed":""),S[m]=null);for(g=Object.keys(S),g.sort(),f=0;f<g.length;f++)w=g[f].replace(/:suppressed$/,"").split(/:/),"removed"!==w[0]&&(y="removed:"+w[1],delete S[y],delete S[y+":suppressed"]);g=Object.keys(S),g.sort(),r&&window.requestAnimationFrame?window.requestAnimationFrame(e):e()}}window.removeEventListener("load",e),window.elementSizeWatch=function(e,t){if(!(e instanceof HTMLElement))return!1;if(t="undefined"!=typeof t&&"[object Object]"===Object.prototype.toString(t)?t:{},t.useAnimationFrame="undefined"!=typeof t.useAnimationFrame?t.useAnimationFrame:!0,t.allowQueryClasses="undefined"!=typeof t.allowQueryClasses?t.allowQueryClasses:!0,t.querySpec=s("string"==typeof t.querySpec?t.querySpec:e.getAttribute("data-size-watch")),!t.querySpec)return!1;var i=document.createElement("iframe");return i.style.cssText="display: inline; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; overflow: visible; z-index: -1000; visibility: visible; opacity: 0; border: none; padding: 0px; margin: 0px; background: transparent; pointer-events: none;",e.getClientRects()[0],e.appendChild(i),t.element=e,i.contentWindow.onresize=n(t),!0}});
