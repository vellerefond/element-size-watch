(function(){function x(b,a,f){a=a||"";var h=b.parentElement.getClientRects()[0];b=b.getClientRects()[0];a.search("%")===a.length-1?(a=parseFloat(a.replace(/%$/,"")),a=a/100*(f?h.width:h.height)):a=parseInt(a.replace(/[^0-9.-]/g,""));return{width:b.width,height:b.height,querySize:a}}function t(b){var a={},f=0;if("*"===b)return a;if(!b||/^\s*$/.test(b))return null;b=b.split(/\s*,\s*/);if(!b.length)return null;var h,c;for(h=0;h<b.length;h++)c=b[h].split(/\s*:\s*/),!c||2>c.length||4<c.length||(c[0]=c[0].trim(),
c[1]=c[1].trim(),c[0]&&c[1]&&(c[0]+="-"+ ++f,a[c[0]]=c[1],c[2]&&!/^\s*$/.test(c[2])&&(a[c[0]+"-alias"]=c[2]),"suppress"===c[3]&&(a[c[0]+"-suppress"]=!0)));return a}function z(b){var a=b.element,f=b.querySpec,h=b.callback,c=b.useAnimationFrame,t=b.allowQueryClasses;return function(){function b(){for(k=l.length-1;0<=k;k--)d=l[k].split(/:/),"removed"===d[0]?"suppressed"===d[2]?-1===n.indexOf(d[1])&&n.push(d[1]):a.classList.contains(d[1])&&(a.classList.remove(d[1]),n.push(d[1])):"added"===d[0]&&("suppressed"===
d[2]?-1===p.indexOf(d[1])&&p.push(d[1]):a.classList.contains(d[1])||(a.classList.add(d[1]),p.push(d[1])));"function"===typeof h&&(0===v.length||n.length||p.length)&&h({element:a,elementSize:{width:g.width,height:g.height},classesRemoved:n,classesAdded:p})}var m,v=Object.keys(f),e,w,g=x(a),u,y,q,r={},l,k,d,n=[],p=[];for(m=0;m<v.length;m++)e=v[m],e.search("-alias")!==Math.max(e.length-6,0)&&e.search("-suppress")!==Math.max(e.length-9,0)&&(w=f[e],u=0===e.search("min"),y=0===e.search("max"),q=-1!==e.search("width"),
g=x(a,w,q),u=u?(q?g.width:g.height)>=g.querySize:y?(q?g.width:g.height)<=g.querySize:g.querySize===(q?g.width:g.height),e=(u?"added:":"removed:")+(f[e+"-alias"]?f[e+"-alias"]:e.replace(/-[0-9]+$/,"")+"-"+w.replace(/%/,"pc")+(t?"":":suppressed"))+(f[e+"-suppress"]?":suppressed":""),r[e]=null);l=Object.keys(r);l.sort();for(k=0;k<l.length;k++)d=l[k].replace(/:suppressed$/,"").split(/:/),"removed"!==d[0]&&(m="removed:"+d[1],delete r[m],delete r[m+":suppressed"]);l=Object.keys(r);l.sort();c&&window.requestAnimationFrame?
window.requestAnimationFrame(b):b()}}window.elementSizeWatch=function(b,a){if(!(b instanceof HTMLElement))return!1;a="undefined"!==typeof a&&"[object Object]"===Object.prototype.toString(a)?a:{};a.useAnimationFrame="undefined"!==typeof a.useAnimationFrame?a.useAnimationFrame:!0;a.allowQueryClasses="undefined"!==typeof a.allowQueryClasses?a.allowQueryClasses:!0;a.querySpec="string"===typeof a.querySpec?t(a.querySpec):t(b.getAttribute("data-size-watch"));if(!a.querySpec)return!1;var f=document.createElement("iframe");
f.style.cssText="display: inline; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; overflow: visible; z-index: -1000; visibility: visible; opacity: 0; border: none; padding: 0px; margin: 0px; background: transparent; pointer-events: none;";b.getClientRects()[0];b.appendChild(f);a.element=b;f.contentWindow.onresize=z(a);return!0}})();
