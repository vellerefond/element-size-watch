window.addEventListener("load",function e(){function t(e,t,s){t=t||"";var i=e.parentElement,n=i.getClientRects()[0],r=e.getClientRects()[0];return t.search("%")===t.length-1?(t=parseFloat(t.replace(/%$/,"")),t=t/100*(s?n.width:n.height)):t=parseInt(t.replace(/[^0-9.-]/g,"")),{width:r.width,height:r.height,querySize:t}}function s(e){var t={},s=0;if("*"===e)return t;if(!e||/^\s*$/.test(e))return null;if(e=e.split(/\s*,\s*/),!e.length)return null;var i,n;for(i=0;i<e.length;i++)n=e[i].split(/\s*:\s*/),!n||n.length<2||n.length>4||(n[0]=n[0].trim(),n[1]=n[1].trim(),n[0]&&n[1]&&(n[0]+="-"+ ++s,t[n[0]]=n[1],n[2]&&!/^\s*$/.test(n[2])&&(t[n[0]+"-alias"]=n[2]),"suppress"===n[3]&&(t[n[0]+"-suppress"]=!0)));return t}function i(e){return function(e,s,i,n,r){function a(){for(f=g.length-1;f>=0;f--)y=g[f].split(/:/),"removed"===y[0]?"suppressed"===y[2]?-1===x.indexOf(y[1])&&x.push(y[1]):e.classList.contains(y[1])&&(e.classList.remove(y[1]),x.push(y[1])):"added"===y[0]&&("suppressed"===y[2]?-1===S.indexOf(y[1])&&S.push(y[1]):e.classList.contains(y[1])||(e.classList.add(y[1]),S.push(y[1])));"function"==typeof i&&(0===v.length||x.length||S.length)&&i({element:e,elementSize:{width:b.width,height:b.height},classesRemoved:x,classesAdded:S})}var l,o,p,d,h,u,c,m,g,f,y,w,v=Object.keys(s),b=t(e),q={},x=[],S=[];for(l=0;l<v.length;l++)o=v[l],o.search("-alias")!==Math.max(o.length-6,0)&&o.search("-suppress")!==Math.max(o.length-9,0)&&(p=s[o],d=0===o.search("min"),h=0===o.search("max"),u=-1!==o.search("width"),b=t(e,p,u),c=d?(u?b.width:b.height)>=b.querySize:h?(u?b.width:b.height)<=b.querySize:b.querySize===(u?b.width:b.height),m=(c?"added:":"removed:")+(s[o+"-alias"]?s[o+"-alias"]:o.replace(/-[0-9]+$/,"")+"-"+p.replace(/%/,"pc")+(r?"":":suppressed"))+(s[o+"-suppress"]?":suppressed":""),q[m]=null);for(g=Object.keys(q),g.sort(),f=0;f<g.length;f++)y=g[f].replace(/:suppressed$/,"").split(/:/),"removed"!==y[0]&&(w="removed:"+y[1],delete q[w],delete q[w+":suppressed"]);g=Object.keys(q),g.sort(),n&&window.requestAnimationFrame?window.requestAnimationFrame(a):a()}.bind(null,e.element,e.querySpec,e.callback,e.useAnimationFrame,e.allowQueryClasses)}window.removeEventListener("load",e),HTMLElement.prototype.sizeWatch=function(e){if(e="undefined"!=typeof e&&"[object Object]"===Object.prototype.toString(e)?e:{},e.useAnimationFrame="undefined"!=typeof e.useAnimationFrame?e.useAnimationFrame:!0,e.allowQueryClasses="undefined"!=typeof e.allowQueryClasses?e.allowQueryClasses:!0,e.querySpec=s("string"==typeof e.querySpec?e.querySpec:this.getAttribute("data-size-watch")),!e.querySpec)return this;var t=document.createElement("iframe");return t.src="about:blank",t.style.cssText="display: inline; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; overflow: visible; z-index: -1000; visibility: visible; opacity: 0; border: none; padding: 0px; margin: 0px; background: transparent; pointer-events: none;",this.appendChild(t),e.element=this,t.contentWindow.onresize=i(e),this}});
